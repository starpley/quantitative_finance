import unittest
from src.portfolio import Portfolio

class TestPortfolio(unittest.TestCase):
    def setUp(self):
        iex_token = "YOUR_IEX_CLOUD_API_TOKEN"
        polygon_key = "YOUR_POLYGON_API_KEY"
        alpha_key = "YOUR_ALPHA_VANTAGE_API_KEY"
        self.portfolio = Portfolio(iex_token, polygon_key, alpha_key)
        self.portfolio.add_stock('AAPL', 100)
        self.portfolio.add_stock('GOOG', 50)
        self.portfolio.add_stock('MSFT', 200)
        self.portfolio.add_stock('TSLA', 75)

    def test_add_stock(self):
        self.portfolio.add_stock('AMZN', 30)
        self.assertIn('AMZN', self.portfolio.stocks)
        self.assertEqual(self.portfolio.stocks['AMZN'], 30)

    def test_remove_stock(self):
        self.portfolio.remove_stock('AAPL')
        self.assertNotIn('AAPL', self.portfolio.stocks)

    def test_get_portfolio_value(self):
        value = self.portfolio.get_portfolio_value()
        self.assertGreater(value, 0)

if __name__ == '__main__':
    unittest.main()